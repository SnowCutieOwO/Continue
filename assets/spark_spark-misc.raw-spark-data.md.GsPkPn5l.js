import{_ as a,c as i,o as t,b0 as e}from"./chunks/framework.w6NQj85O.js";const d=JSON.parse('{"title":"spark çš„åŸæ•°æ®","description":"","frontmatter":{},"headers":[],"relativePath":"spark/spark-misc.raw-spark-data.md","filePath":"spark/spark-misc.raw-spark-data.md"}'),p={name:"spark/spark-misc.raw-spark-data.md"};function n(l,s,h,r,k,o){return t(),i("div",null,s[0]||(s[0]=[e(`<h1 id="spark-çš„åŸæ•°æ®" tabindex="-1">spark çš„åŸæ•°æ® <a class="header-anchor" href="#spark-çš„åŸæ•°æ®" aria-label="Permalink to &quot;spark çš„åŸæ•°æ®&quot;">â€‹</a></h1><p>æœ‰äº›äººå¯èƒ½éœ€è¦ç”¨åˆ° spark è·å–çš„åŸæ•°æ®ï¼Œé€šå¸¸ç”¨äºå¯¹æ¥æœºå™¨äººæˆ–å…¶ä»–ç”¨é€”ã€‚æœ¬ç« èŠ‚å°†ä¼šè¯¦ç»†è®²è¿°å¦‚ä½•è·å–è¿™äº›ä¸œè¥¿ã€‚ğŸ˜</p><h2 id="json" tabindex="-1">JSON <a class="header-anchor" href="#json" aria-label="Permalink to &quot;JSON&quot;">â€‹</a></h2><p>å‡è®¾ä½ æœ‰ä¸€ä¸ª spark æŠ¥å‘Šé“¾æ¥ï¼š<code>https://spark.lucko.me/abc123</code></p><p>æ”¶é›†æœ¬æ¬¡ä¼šè¯çš„åŸå§‹æ•°æ®æœ€ç›´æ¥çš„æ–¹æ³•å°±æ˜¯åœ¨é“¾æ¥æœ«å°¾åŠ ä¸Š <code>?raw=1</code> å‚æ•°å¹¶å¯¹å…¶å‘é€ HTTP è¯·æ±‚ï¼š</p><div class="language-HTTP vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">HTTP</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> https://spark.lucko.me/abc123?raw=1</span></span></code></pre></div><p>ä½ åº”è¯¥ä¼šå¾—åˆ°ä¸€ä¸ªç±»ä¼¼ä¸‹æ–‡çš„ JSON ç»“æ„æ–‡æœ¬ï¼š</p><div class="language-JSON vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">JSON</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;metadata&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Luck&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;uniqueId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;c1d60c50-70b5-4722-8057-87767557e50d&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;startTime&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1678186955567</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è¯¸å¦‚æ­¤ç±»...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>ä½ ä¹Ÿå¯ä»¥åœ¨å‚æ•°æœ«å°¾æ·»åŠ è¯¸å¦‚ <code>&amp;path=some.jsonpath.here</code> ç­‰å†…å®¹æŒ‰ <a href="https://github.com/json-path/JsonPath" target="_blank" rel="noreferrer">JSON è·¯å¾„</a>è¿›è¡Œè¿‡æ»¤ã€‚</p><div class="language-HTTP vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">HTTP</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> https://spark.lucko.me/abc123?raw=1&amp;path=metadata.platform</span></span></code></pre></div><div class="language-JSON vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">JSON</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;type&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Bukkit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;git-Paper-386 (MC: 1.19.3)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;minecraftVersion&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1.19.3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;sparkVersion&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="info custom-block"><p class="custom-block-title">æ³¨æ„</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™äº›èŠ‚ç‚¹åªä¼šè¿”å›ä¸ä¼šè¯æœ‰å…³çš„<strong>å…ƒæ•°æ®</strong>ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹è¿™æ˜¯å¤Ÿç”¨çš„ã€‚<br> ä½†æ˜¯å¦‚æœä½ çœŸçš„æƒ³è¦æŠ½æ ·/å †è½¬å‚¨æ•°æ®ï¼Œé¦–å…ˆï¼Œä½ å¯ä»¥è‡ªå·±ä¸‹è½½/åˆ¤æ–­<strong>åŸ</strong>æ•°æ®ã€‚èƒ½çœæˆ‘å¾ˆå¤šäº‹ï¼ï¼ˆè¯¦è§ä¸‹æ–‡ï¼‰<br> å¦‚æœä¸è¡Œï¼Œä½ ä¹Ÿå¯ä»¥åœ¨é“¾æ¥æœ«å°¾åŠ ä¸Šå‚æ•° <code>&amp;full=true</code> æ¥ä½¿å…¶è¿”å›<strong>å®Œæ•´</strong>å†…å®¹ï¼Œä½†æ˜¯è¦æ³¨æ„ï¼Œè¿™å¯èƒ½ä¼šè®©è·å–çš„ JSON å¤§å°è¾¾åˆ° MB çº§åˆ«ï¼Œä»è€Œå¯¼è‡´è¯»å–å›°éš¾ï¼</p></div><h2 id="åŸæ•°æ®" tabindex="-1">åŸæ•°æ® <a class="header-anchor" href="#åŸæ•°æ®" aria-label="Permalink to &quot;åŸæ•°æ®&quot;">â€‹</a></h2><p>spark æ‰€ä½¿ç”¨çš„å­˜å‚¨æœåŠ¡ç§°ä½œ <a href="https://github.com/lucko/bytebin" target="_blank" rel="noreferrer">bytebin</a> spark æ‰€ä½¿ç”¨çš„æŒ‡å®šæ¥å£ä¸º <a href="https://spark-usercontent.lucko.me/" target="_blank" rel="noreferrer">https://spark-usercontent.lucko.me/</a></p><p>è‹¥è¦æ”¶é›†æŒ‡å®šæŠ¥å‘Šä¸­çš„åŸæ•°æ®ï¼ˆå¦‚ <code>https://spark.lucko.me/abc123/</code>ï¼‰ï¼Œéœ€è¦å‘ç”¨æˆ·å†…å®¹ç«¯å‘é€ä¸€ä¸ª GET çš„ HTTPS è¯·æ±‚ï¼š</p><div class="language-HTTP vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">HTTP</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GET</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> https://spark-usercontent.lucko.me/abc123</span></span></code></pre></div><p>è‹¥æˆåŠŸå‘é€ï¼Œåˆ™ä½ ä¼šæ”¶åˆ°ä¸€ä¸ªç±»ä¼¼ä¸‹æ–‡çš„ä¿¡æ¯ï¼š</p><div class="language-HTTP vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">HTTP</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">HTTP/2 </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Content-Type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> application/x-spark-sampler</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Last-Modified</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Tue, 07 Mar 2023 13:16:44 GMT</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Cache-Control</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> public, max-age=604800, no-transform, immutable</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>spark ç›®å‰æœ‰ä¸¤ç§å†…å®¹ç±»å‹ï¼š</p><ul><li><code>application/x-spark-sampler</code> - æŠ½æ ·æ•°æ®</li><li><code>application/x-spark-heap</code> - å †æ•°æ®</li></ul><p>ä½ å¯ä»¥æ ¹æ®ä½ æƒ³è¦å–å¾—çš„å†…å®¹ä½¿ç”¨æŠ½æ ·å™¨æˆ–å †æ¨¡å¼æ¥åˆ†ææ‰€è·æ•°æ®ã€‚</p><h3 id="protobuf-æ ¼å¼" tabindex="-1">Protobuf æ ¼å¼ <a class="header-anchor" href="#protobuf-æ ¼å¼" aria-label="Permalink to &quot;Protobuf æ ¼å¼&quot;">â€‹</a></h3><p>ä» sparkâ€œå®¢æˆ·ç«¯â€ï¼ˆå³æ’ä»¶/æ¨¡ç»„æœ¬èº«ï¼‰ä¼ è¾“è¿‡æ¥çš„åŸæ•°æ®ä¸ spark æŠ¥å‘Šæµè§ˆå™¨æ˜¯é€šè¿‡ä¸€ç§åä¸º <a href="https://protobuf.dev/" target="_blank" rel="noreferrer">protobuf</a>ï¼ˆåˆç§° Protocol Buffers<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ï¼‰çš„æ ¼å¼è¿›è¡Œç¼–å†™çš„ã€‚è‹¥è¦æ­£ç¡®åˆ¤æ–­æ•°æ®ï¼Œä½ å°±éœ€è¦ç”¨åˆ° protobuf æ¨¡å¼ã€‚</p><p>ç›®å‰ä¸ºæ­¢æœ‰ä¸¤ç§æ¨¡å¼ï¼ˆå¯ä»¥åˆ¤æ–­åŒç§æ•°æ®ï¼‰ï¼š</p><ul><li>sparkï¼ˆJavaï¼‰æ¨¡å¼ï¼š<a href="https://github.com/lucko/spark/tree/master/spark-common/src/main/proto/spark" target="_blank" rel="noreferrer">https://github.com/lucko/spark/tree/master/spark-common/src/main/proto/spark</a></li><li>spark-viewerï¼ˆTypeScriptï¼‰æ¨¡å¼ï¼š<a href="https://github.com/lucko/spark-viewer/tree/master/proto" target="_blank" rel="noreferrer">https://github.com/lucko/spark-viewer/tree/master/proto</a></li></ul><h3 id="ç¤ºä¾‹ä»£ç " tabindex="-1">ç¤ºä¾‹ä»£ç  <a class="header-anchor" href="#ç¤ºä¾‹ä»£ç " aria-label="Permalink to &quot;ç¤ºä¾‹ä»£ç &quot;">â€‹</a></h3><p>è¿™é‡Œæœ‰ä¸€ä¸ªç”¨ NodeJS ç¼–å†™çš„ç®€æ˜“ CLIï¼Œå¯ä»¥å¸®åŠ©ä½ å¿«é€Ÿç†è§£åŸæ•°æ®çš„åˆ¤æ–­æ–¹å¼ï¼š<a href="https://github.com/lucko/spark2json" target="_blank" rel="noreferrer">https://github.com/lucko/spark2json</a></p><p>ï¼ˆå…¶å®è¿™å°±æ˜¯åˆ¤æ–­ä¸Šè¿° JSON æ ¼å¼çš„ä»£ç ï¼ŒğŸ˜›ï¼‰</p><h2 id="å¦è§" tabindex="-1">å¦è§ <a class="header-anchor" href="#å¦è§" aria-label="Permalink to &quot;å¦è§&quot;">â€‹</a></h2><ul><li>æœ‰å…³ Protocol Buffers çš„ä»‹ç»ï¼š<a href="https://zhuanlan.zhihu.com/p/36554982" target="_blank" rel="noreferrer">https://zhuanlan.zhihu.com/p/36554982</a></li></ul><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>Protocol Buffers æ˜¯ä¸€ç§è½»ä¾¿é«˜æ•ˆçš„ç»“æ„åŒ–æ•°æ®å­˜å‚¨æ ¼å¼ï¼Œå¯ä»¥ç”¨äºç»“æ„åŒ–æ•°æ®åºåˆ—åŒ–ï¼Œå¾ˆé€‚åˆåšæ•°æ®å­˜å‚¨æˆ– RPC æ•°æ®äº¤æ¢æ ¼å¼ã€‚å®ƒå¯ç”¨äºé€šè®¯åè®®ã€æ•°æ®å­˜å‚¨ç­‰é¢†åŸŸçš„è¯­è¨€æ— å…³ã€å¹³å°æ— å…³ã€å¯æ‰©å±•çš„åºåˆ—åŒ–ç»“æ„æ•°æ®æ ¼å¼ã€‚ <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>`,32)]))}const u=a(p,[["render",n]]);export{d as __pageData,u as default};
