import{_ as e,c as l,o as i,b0 as t}from"./chunks/framework.w6NQj85O.js";const m=JSON.parse('{"title":"MPDB 数据迁移","description":"","frontmatter":{},"headers":[],"relativePath":"HuskSync/guides.mpdb-migration.md","filePath":"HuskSync/guides.mpdb-migration.md"}'),r={name:"HuskSync/guides.mpdb-migration.md"};function d(o,a,s,c,n,u){return i(),l("div",null,a[0]||(a[0]=[t('<h1 id="mpdb-数据迁移" tabindex="-1">MPDB 数据迁移 <a class="header-anchor" href="#mpdb-数据迁移" aria-label="Permalink to &quot;MPDB 数据迁移&quot;">​</a></h1><p>该教程将会引导你将 MySQLPlayerDataBridge（MPDB） 插件的数据迁移至 HuskSync 2.x。</p><div class="warning custom-block"><p class="custom-block-title">警告</p><p>请注意，由于 MPDB 的更新，HuskSync 仅支持从 MySQLPlayerDataBase <code>&lt;= 4.9.2</code> 的版本迁移。对未来版本的支持还在更新中。</p></div><h2 id="需求" tabindex="-1">需求 <a class="header-anchor" href="#需求" aria-label="Permalink to &quot;需求&quot;">​</a></h2><ul><li><em>安装了</em> MySQLPlayerDataBridge 的 Spigot 子服。</li></ul><h2 id="迁移教程" tabindex="-1">迁移教程 <a class="header-anchor" href="#迁移教程" aria-label="Permalink to &quot;迁移教程&quot;">​</a></h2><h3 id="_1-在所有的子服上安装-husksync-2-x" tabindex="-1">1. 在所有的子服上安装 HuskSync 2.x <a class="header-anchor" href="#_1-在所有的子服上安装-husksync-2-x" aria-label="Permalink to &quot;1. 在所有的子服上安装 HuskSync 2.x&quot;">​</a></h3><ul><li>下载并在所有的子服上安装 HuskSync。先不要急着卸载 MySQLPlayerDataBridge；</li><li>按照章节开头的教程安装插件；</li><li>完成后，重启你的服务器。</li></ul><h3 id="_2-配置迁移" tabindex="-1">2. 配置迁移 <a class="header-anchor" href="#_2-配置迁移" aria-label="Permalink to &quot;2. 配置迁移&quot;">​</a></h3><ul><li>确保服务器没有玩家并按步骤正确安装 HuskSync 2.x 版本；</li><li>请使用子服的控制台输入命令 <code>husksync migrate mpdb</code>。若 MPDB 迁移不可用，请确保 MySQLPlayerDataBridge 仍然安装着；</li><li>通过下列命令按需修改迁移设置：<code>husksync migrate mpdb set &lt;设置&gt; &lt;值&gt;</code>；</li><li>请注意数据将会<em>从</em>你在上述命令中指定的数据库迁移<em>至</em> <code>config.yml</code> 中设置的数据库。</li></ul><h3 id="_3-开始迁移" tabindex="-1">3. 开始迁移 <a class="header-anchor" href="#_3-开始迁移" aria-label="Permalink to &quot;3. 开始迁移&quot;">​</a></h3><ul><li>输入命令 <code>husksync migrate legacy start</code> 来开始迁移程序。这会消耗一些时间，具体时长取决于迁移数据量。</li></ul><h3 id="_4-卸载-mysqlplayerdatabridge" tabindex="-1">4. 卸载 MySQLPlayerDataBridge <a class="header-anchor" href="#_4-卸载-mysqlplayerdatabridge" aria-label="Permalink to &quot;4. 卸载 MySQLPlayerDataBridge&quot;">​</a></h3><ul><li>迁移完毕后，HuskSync 将会在控制台弹出消息，提示迁移完成；</li><li>关闭所有子服，并删除每个子服的 MySQLPlayerDataBridge jar 文件；</li><li>重启你的所有子服。</li></ul><h3 id="_5-确保数据迁移成功" tabindex="-1">5. 确保数据迁移成功 <a class="header-anchor" href="#_5-确保数据迁移成功" aria-label="Permalink to &quot;5. 确保数据迁移成功&quot;">​</a></h3><ul><li>若要验证数据迁移是否成功，可以进入游戏，输入命令 <code>/userdata list &lt;玩家名称&gt;</code>，检查数据是否因 <code>mpdb_migration</code> 原因而转化；</li><li>你可以删除数据库中的旧数据表。确保你删除了原数据表而不是转化后的数据表。</li></ul>',16)]))}const y=e(r,[["render",d]]);export{m as __pageData,y as default};
