import{_ as r,c as t,o as a,b0 as l}from"./chunks/framework.w6NQj85O.js";const m=JSON.parse('{"title":"外部连接","description":"","frontmatter":{},"headers":[],"relativePath":"LuckPerms/project-info.external-connections.md","filePath":"LuckPerms/project-info.external-connections.md"}'),n={name:"LuckPerms/project-info.external-connections.md"};function o(i,e,s,p,c,h){return a(),t("div",null,e[0]||(e[0]=[l('<h1 id="外部连接" tabindex="-1">外部连接 <a class="header-anchor" href="#外部连接" aria-label="Permalink to &quot;外部连接&quot;">​</a></h1><h2 id="概要" tabindex="-1">概要 <a class="header-anchor" href="#概要" aria-label="Permalink to &quot;概要&quot;">​</a></h2><p>太长不读版：</p><ul><li>LuckPerms 会在首次启动时使用网络连接安全下载必要库与翻译包</li><li>LuckPerms 会向外部服务发送数据以提供某些服务（<code>/lp editor</code> 等）</li><li>LuckPerms 不会向统计数据或服务发送报告数据</li></ul><p>这些操作的生态与相关用法都在下文讲述。</p><h2 id="下载外部库" tabindex="-1">下载外部库 <a class="header-anchor" href="#下载外部库" aria-label="Permalink to &quot;下载外部库&quot;">​</a></h2><p>LuckPerms 用到了大量的外部库 —— 在<a href="./project-info.credits.html#开源">这里</a>详细列出。</p><p>插件可以被配置并用于多个方面。例如，它支持许多存储方法，每个都有它们自己的存储器。大多数插件会将这些库打包（或“shade”）进自己的插件 —— 但是，这在 LuckPerms 上不可行，因为数量如此庞大的库会让 jar 文件变得非常庞大。解决方法就是在运行时根据使用的配置下载<em>必要</em>的库。</p><h3 id="下载过程" tabindex="-1">下载过程 <a class="header-anchor" href="#下载过程" aria-label="Permalink to &quot;下载过程&quot;">​</a></h3><ul><li>下载只在必须要求安装库时尝试进行</li><li>初次下载后的二进制值文件会缓存在 <code>/LuckPerms/libs/</code> 文件中。若这里已经存在一个库，则不会尝试向服务器发送下载请求。</li><li>对应库的版本与 URL 是写死在插件中的 —— 它们不会自动更新。</li></ul><p>所有库都是从 <a href="https://libraries.luckperms.net/" target="_blank" rel="noreferrer">https://libraries.luckperms.net/</a> 或 <a href="https://repo1.maven.org/maven2/" target="_blank" rel="noreferrer">https://repo1.maven.org/maven2/</a> 下载的。后者是公开的软件仓库，一般称作“中心仓库”或“Maven 中心”，前者则是由 LuckPerms 团队拥有与维护的 Maven 中心镜像。</p><p>Maven 中心是受信任的来源 —— 它被大部分 Java 开发者与开源项目使用。</p><p>作为预防网站劫持的措施，插件会在下载过程中进行额外的验证并确保最终库文件完整。</p><h3 id="验证过程" tabindex="-1">验证过程 <a class="header-anchor" href="#验证过程" aria-label="Permalink to &quot;验证过程&quot;">​</a></h3><p>每个可以在运行时下载的前置库都会带着在<a href="https://github.com/LuckPerms/LuckPerms/blob/master/common/src/main/java/me/lucko/luckperms/common/dependencies/Dependency.java" target="_blank" rel="noreferrer">这个源代码文件</a>中定义的版本与位置在 Maven 中心进行下载。</p><p>每个库在它们发布后被打包进插件的信息中都带有 SHA-256 的哈希值。这个哈希值会用于下载完成的库文件的比较。</p><p>从仓库下载库文件后，相同的步骤会对着下载数据再进行一次，得到的哈希值会与依赖验证所带的进行比较。</p><p>若两个哈希值相同，则下载文件的完整性可以被保证。否则会发生这些情况：</p><ul><li>文件只下载了一部分，下载出现了错误</li><li>依赖文件被修改，且不应被信任</li></ul><p>在这两种情况下，LuckPerms 都会取消依赖的下载，插件启动过程也会被终止。</p><p>这些验证是为了防止可疑代码对系统造成损害。它能有效降低<a href="https://en.wikipedia.org/wiki/Arbitrary_code_execution" target="_blank" rel="noreferrer">任意代码执行</a>发生的可能性，并让系统安全得就像将这些前置打包进插件一样。</p><h2 id="下载翻译包" tabindex="-1">下载翻译包 <a class="header-anchor" href="#下载翻译包" aria-label="Permalink to &quot;下载翻译包&quot;">​</a></h2><p>LuckPerms 的命令中的文本是<a href="./project-info.locale-and-translations.html">由社区提供</a>的。</p><p>这些翻译内容是自动导入并编译为“翻译包”文件的，并能在 API 端点上开放。这意味着翻译可以被随时间添加/改进，而无需重新编译插件。</p><p>翻译包会（大约每 24 小时）被插件更新一次。这个过程相对安全，因为翻译包本身不会影响插件的运行。</p><p>这个功能也可以在配置文件中禁用。</p><h3 id="网页应用-lp-editor-等" tabindex="-1">网页应用（<code>/lp editor</code> 等） <a class="header-anchor" href="#网页应用-lp-editor-等" aria-label="Permalink to &quot;网页应用（`/lp editor` 等）&quot;">​</a></h3><p>LuckPerms 有一系列为所有人开放的网络应用。</p><ul><li><strong>网页编辑器</strong> - 修改管理权限数据的编辑器</li><li><strong>权限检查系统浏览器</strong> - 浏览权限检查系统日志的浏览器</li><li><strong>树状图浏览器</strong> - 用于显示权限树结构的浏览器</li></ul><p>这些应用的客户端可以在下面找到。</p><ul><li><a href="https://luckperms.net/editor/" target="_blank" rel="noreferrer">https://luckperms.net/editor/</a></li><li><a href="https://luckperms.net/verbose/" target="_blank" rel="noreferrer">https://luckperms.net/verbose/</a></li><li><a href="https://luckperms.net/treeview/" target="_blank" rel="noreferrer">https://luckperms.net/treeview/</a></li></ul><p>源码可以在这里浏览：<a href="https://github.com/LuckPerms/LuckPermsWeb" target="_blank" rel="noreferrer">https://github.com/LuckPerms/LuckPermsWeb</a></p><p>在编辑器/浏览器与插件（在 Minecraft 服务器上运行的）是通过分离的数据负载进行的。这不会影响到编辑器/浏览器与服务器等的直接沟通。</p><p>你可以将编辑会话的链接随意发送 —— 所有对权限数据的改动都需要在 Minecraft 服务器上输入命令，或被编辑器信任。</p><p>数据从 <a href="https://usercontent.luckperms.net" target="_blank" rel="noreferrer">https://usercontent.luckperms.net</a> 发送&amp;读取 —— 非常简单的内容存储系统。这个服务是由 Luck 编写与托管的。</p><p>再说一次，源码可以从这里访问：<a href="https://github.com/lucko/bytebin" target="_blank" rel="noreferrer">https://github.com/lucko/bytebin</a></p><p>其他技术细节可以在<a href="./reference.web-editor-technical-details.html">这里</a>找到。</p><h3 id="统计与自动更新" tabindex="-1">统计与自动更新 <a class="header-anchor" href="#统计与自动更新" aria-label="Permalink to &quot;统计与自动更新&quot;">​</a></h3><ul><li>LuckPerms <strong>不会</strong>也永远不会回传分析或监控设备。</li><li>LuckPerms <strong>不会</strong>也永远不会自动检查（或自动安装😠）更新。</li></ul>',39)]))}const d=r(n,[["render",o]]);export{m as __pageData,d as default};
