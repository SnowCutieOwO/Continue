import{_ as i,c as a,o as t,b0 as n}from"./chunks/framework.w6NQj85O.js";const d=JSON.parse('{"title":"安装与更新","description":"","frontmatter":{},"headers":[],"relativePath":"Shopkeepers/installtion-updating.md","filePath":"Shopkeepers/installtion-updating.md"}'),e={name:"Shopkeepers/installtion-updating.md"};function l(p,s,h,k,r,o){return t(),a("div",null,s[0]||(s[0]=[n(`<h1 id="安装与更新" tabindex="-1">安装与更新 <a class="header-anchor" href="#安装与更新" aria-label="Permalink to &quot;安装与更新&quot;">​</a></h1><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><ol><li><p>确保你使用了<strong>Bukkit/ Spigot 服务端核心</strong>。你可以在这里找到有关服务端搭建的更多信息：<a href="https://www.spigotmc.org/wiki/spigot/" target="_blank" rel="noreferrer">https://www.spigotmc.org/wiki/spigot/</a> 需要注意的是，插件一开始是设计与 CraftBukkit（或相似的 Spigot）一同使用的。Bukkit 的 API 缺少了一些插件正常运行的必要内容。这表示<strong>其他服务端核心</strong>（Tekkit、Forge 等）不兼容此插件。</p><p>其他 <strong>CraftBukkit 或 Spigot 改版/分支</strong><em>可能</em>兼容，但不会受到官方支持。如果你在使用这些核心运行本插件时遇到问题，请先通过安装最新版的 Spigot 核心来排除服务端本身的问题。</p></li><li><p>在这里<strong>下载</strong>最新版的 Shopkeepers：<a href="https://dev.bukkit.org/projects/shopkeepers/files" target="_blank" rel="noreferrer">https://dev.bukkit.org/projects/shopkeepers/files</a> 每个发行版都会标注其支持的 Bukkit/Minecraft 版本。</p></li><li><p>关闭服务器。将 <code>Shopkeeper.jar</code> 放入服务器的 <code>plugins</code> 文件夹。之后重启服务器。</p></li><li><p>检查控制台日志是否存在报错，确保一切正常工作。</p></li></ol><p>安装成功后，你可能需要进行一些额外设置。</p><ul><li>可选：本插件将会在 <code>Shopkeepers</code> 文件夹下生成一个 <code>config.yml</code>。这里有一些你可以自行调整的选项。你可以阅读<a href="./installtion-updating.configuration">配置文件</a>章节了解更多。</li><li>可选：如果你安装了权限管理插件，你可能需要将对应权限分配给玩家和管理组成员。你可以阅读<a href="./installtion-updating.permissions">权限</a>章节了解更多。</li><li>一切准备妥当之后，你就可以着手<a href="./creating-shops">创建商店</a>了！</li><li>如果你遇到了问题（或者有其他想问的），那么阅读<a href="./more-information.frequently-asked-questions">常见问题</a>章节。</li></ul><h2 id="文件夹结构" tabindex="-1">文件夹结构 <a class="header-anchor" href="#文件夹结构" aria-label="Permalink to &quot;文件夹结构&quot;">​</a></h2><p>本插件会在服务器的插件目录下创建存储文件夹：<code>&lt;服务端路径&gt;/plugins/Shopkeepers/</code></p><p>整个文件夹结构会像这样：</p><div class="language-Ruby vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">Ruby</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">..</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">/plugins/</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 服务的插件文件夹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    +--</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Shopkeepers</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 插件的存储文件夹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        |--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> config.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yml</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 配置文件</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        +--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            |--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> save.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yml</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 已保存的商店数据 (商店, 交易记录, ..)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            |--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> save.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yml</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tmp</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 临时文件, 仅在保存插件数据时短暂存在</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        +--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> lang</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            |--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> language</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">en</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">default.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yml</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 默认的语言文件, 无法修改, 用作其他语言的模板</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            |--</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 额外的语言文件 (可选)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        +--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> trade</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">logs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            |--</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # CSV 交易记录文件 (如果配置文件启用了交易日志)</span></span></code></pre></div><h2 id="更新" tabindex="-1">更新 <a class="header-anchor" href="#更新" aria-label="Permalink to &quot;更新&quot;">​</a></h2><p>大多数情况下，更新本插件只需关闭服务器、替换 Shopkeepers.jar，然后重启服务器。</p><p>不过，为确保问题不会出现，建议按照如下步骤进行更新：</p><ol><li>阅读自当前安装版本至最新版<strong>所有</strong>更新的<a href="https://github.com/Shopkeepers/Shopkeepers/blob/master/CHANGELOG.md" target="_blank" rel="noreferrer"><strong>更新日志</strong></a>。有些时候这些日志包含了潜在问题与迁移指导。如果你正在从远古版本迁移至新版，你甚至可能需要从插件初次发布的日志读起，因为最新版不一定能支持从你安装的版本迁移数据。</li><li><strong>备份</strong>本插件的文件夹，防止数据丢失。</li><li>有些时候默认的配置文件会发生变化，新的设置会生成而旧设置会被删除。检查更新日志来确认任何需要手动<strong>迁移</strong>的<strong>配置选项</strong>。如果你遇到了可能会删除配置文件的情况，请让插件先生成一份默认文件，然后对着它将旧版配置逐一应用。</li></ol>`,13)]))}const c=i(e,[["render",l]]);export{d as __pageData,c as default};
