import{_ as e,c as o,o as d,b0 as a}from"./chunks/framework.w6NQj85O.js";const s=JSON.parse('{"title":"命令列表","description":"","frontmatter":{},"headers":[],"relativePath":"CoreProtect/commands.md","filePath":"CoreProtect/commands.md"}'),c={name:"CoreProtect/commands.md"};function r(l,t,i,h,n,u){return d(),o("div",null,t[0]||(t[0]=[a('<h1 id="命令列表" tabindex="-1">命令列表 <a class="header-anchor" href="#命令列表" aria-label="Permalink to &quot;命令列表&quot;">​</a></h1><p>你可以通过 <code>/co</code> 使用这些命令。</p><h2 id="概览" tabindex="-1">概览 <a class="header-anchor" href="#概览" aria-label="Permalink to &quot;概览&quot;">​</a></h2><table tabindex="0"><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>/co help</td><td>显示命令列表</td></tr><tr><td>/co inspect</td><td>切换查询模式</td></tr><tr><td>/co lookup</td><td>查询方块数据</td></tr><tr><td>/co rollback</td><td>回滚方块数据</td></tr><tr><td>/co restore</td><td>存储方块数据</td></tr><tr><td>/co purge</td><td>删除旧方块数据</td></tr><tr><td>/co reload</td><td>重载配置文件</td></tr><tr><td>/co status</td><td>显示插件状态</td></tr><tr><td>/co consumer</td><td>切换消耗处理</td></tr></tbody></table><h3 id="快捷命令" tabindex="-1">快捷命令 <a class="header-anchor" href="#快捷命令" aria-label="Permalink to &quot;快捷命令&quot;">​</a></h3><table tabindex="0"><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>/co near</td><td>查询 5 格方块内的记录</td></tr><tr><td>/co undo</td><td>撤销上一个操作</td></tr></tbody></table><h2 id="命令列表-1" tabindex="-1">命令列表 <a class="header-anchor" href="#命令列表-1" aria-label="Permalink to &quot;命令列表&quot;">​</a></h2><p><em>详细的命令内容会在下文讲述。</em></p><h3 id="co-help" tabindex="-1">/co help <a class="header-anchor" href="#co-help" aria-label="Permalink to &quot;/co help&quot;">​</a></h3><p>显示游戏内的命令帮助列表。</p><h3 id="co-inspect" tabindex="-1">/co inspect <a class="header-anchor" href="#co-inspect" aria-label="Permalink to &quot;/co inspect&quot;">​</a></h3><p>启用查询模式。再次输入命令可禁用。也可输入其简化形式“/co i”。</p><h3 id="co-lookup" tabindex="-1">/co lookup <a class="header-anchor" href="#co-lookup" aria-label="Permalink to &quot;/co lookup&quot;">​</a></h3><p>执行查询操作。大部分参数为可选。</p><p>参数：<code>u:&lt;玩家名称&gt; t:&lt;时间&gt; r:&lt;半径&gt; a:&lt;操作&gt; i:&lt;包含&gt; e:&lt;不含&gt;</code><br> 别称：<code>/co l</code></p><h4 id="参数" tabindex="-1">参数 <a class="header-anchor" href="#参数" aria-label="Permalink to &quot;参数&quot;">​</a></h4><table tabindex="0"><thead><tr><th>参数</th><th>描述</th></tr></thead><tbody><tr><td><code>u:&lt;玩家名称&gt;</code></td><td>指定被查询的玩家。</td></tr><tr><td><code>t:&lt;时间&gt;</code></td><td>指定查询的时间范围。</td></tr><tr><td><code>a:&lt;操作&gt;</code></td><td>指定查询的操作类型。</td></tr><tr><td><code>i:&lt;包含&gt;</code></td><td>指定涉及的方块或实体。</td></tr><tr><td><code>e:&lt;排除&gt;</code></td><td>指定排除的方块或实体。</td></tr><tr><td><code>#&lt;内容&gt;</code></td><td>在命令末尾加上该参数可执行额外操作。</td></tr></tbody></table><h4 id="分页" tabindex="-1">分页 <a class="header-anchor" href="#分页" aria-label="Permalink to &quot;分页&quot;">​</a></h4><p>若返回多页，可使用命令 <code>/co lookup &lt;页码&gt;</code> 翻页。<br> 若要调整每页显示条目数，请使用命令 <code>/co lookup &lt;页码&gt;:&lt;显示条目数&gt;</code>。</p><blockquote><p>例如，<code>/co l 1:10</code> 会以一页十条的格式显示第一页的查询条目。</p></blockquote><h3 id="co-rollback" tabindex="-1">/co rollback <a class="header-anchor" href="#co-rollback" aria-label="Permalink to &quot;/co rollback&quot;">​</a></h3><p>执行回滚操作。<a href="#参数详解">参数</a>与 /co lookup 相同。<br><em>回滚操作可以撤销玩家的行为，如回滚玩家的恶意破坏。</em></p><p>参数：<code>u:&lt;玩家名称&gt; t:&lt;时间&gt; r:&lt;半径&gt; a:&lt;操作&gt; i:&lt;包含&gt; e:&lt;不含&gt;</code><br> 别称：<code>/co rb</code></p><h3 id="co-restore" tabindex="-1">/co restore <a class="header-anchor" href="#co-restore" aria-label="Permalink to &quot;/co restore&quot;">​</a></h3><p>执行存储操作。<a href="#参数详解">参数</a>与 /co lookup 相同。 <em>存储功能可用于撤销回滚，或保存玩家行为。</em></p><p>参数：<code>u:&lt;玩家名称&gt; t:&lt;时间&gt; r:&lt;半径&gt; a:&lt;操作&gt; i:&lt;包含&gt; e:&lt;不含&gt;</code><br> 别称：<code>/co rs</code></p><h3 id="co-purge" tabindex="-1">/co purge <a class="header-anchor" href="#co-purge" aria-label="Permalink to &quot;/co purge&quot;">​</a></h3><p>清除旧方块数据。适用于清理存档中不需要的旧数据。</p><p>参数：<code>t:&lt;时间&gt; r:&lt;世界名称&gt; i:&lt;包含&gt;</code></p><p>例如，<code>/co purge t:30d</code> 会删除超过一个月的旧数据，只保留最近 30 天的数据。</p><blockquote><p>若在游戏内使用，只有超过 30 天的数据可被清除。<br> 若在控制台使用，只有超过 24 小时的数据可被清除。</p></blockquote><h4 id="清理世界" tabindex="-1">清理世界 <a class="header-anchor" href="#清理世界" aria-label="Permalink to &quot;清理世界&quot;">​</a></h4><p>在 CoreProtect v19 之后，你可以指定世界。<br> 例如，<code>/co purge t:30d r:#world_nether</code> 会删除默认下界内超过一个月的数据，而不会清理其他世界中的数据。</p><h4 id="清理方块" tabindex="-1">清理方块 <a class="header-anchor" href="#清理方块" aria-label="Permalink to &quot;清理方块&quot;">​</a></h4><p>在 CoreProtect v23 之后，你可以指定方块类型。<br> 例如，<code>/co purge t:30d i:stone,dirt</code> 会删除所有与石头和泥土有关且超过一个月的数据，而不会清理其他世界中的数据。</p><h4 id="mysql-优化" tabindex="-1">MySQL 优化 <a class="header-anchor" href="#mysql-优化" aria-label="Permalink to &quot;MySQL 优化&quot;">​</a></h4><p>在 CoreProtect v2.15 之后，在命令末尾添加“#optimize”标签（如 <code>/co purge t:30d #optimize</code>）将会优化数据库表，以释放硬盘空间。该选项只在使用 MySQL 时可用，因为 SQLite 默认会在合并时优化数据。</p><p><em>需要注意的是，加入 #optimize 参数会显著拖慢清理进程，一般情况下不需要用到这个参数。</em></p><h2 id="co-reload" tabindex="-1">/co reload <a class="header-anchor" href="#co-reload" aria-label="Permalink to &quot;/co reload&quot;">​</a></h2><p>重载配置文件。</p><h2 id="co-status" tabindex="-1">/co status <a class="header-anchor" href="#co-status" aria-label="Permalink to &quot;/co status&quot;">​</a></h2><p>显示插件状态与版本信息。</p><h2 id="co-consumer" tabindex="-1">/co consumer <a class="header-anchor" href="#co-consumer" aria-label="Permalink to &quot;/co consumer&quot;">​</a></h2><p>控制台命令，用于暂停或开始消耗者队列处理。</p><h2 id="参数详解" tabindex="-1">参数详解 <a class="header-anchor" href="#参数详解" aria-label="Permalink to &quot;参数详解&quot;">​</a></h2><h3 id="u-玩家名称" tabindex="-1"><code>u:&lt;玩家名称&gt;</code> <a class="header-anchor" href="#u-玩家名称" aria-label="Permalink to &quot;`u:&lt;玩家名称&gt;`&quot;">​</a></h3><p><em>可指定一或多名玩家。</em></p><ul><li>示例：<code>u:Notch</code></li><li>示例：<code>u:Notch,Intelli</code></li><li>示例：<code>u:#fire,#tnt,#creeper,#explosion</code></li></ul><h3 id="t-时间" tabindex="-1"><code>t:&lt;时间&gt;</code> <a class="header-anchor" href="#t-时间" aria-label="Permalink to &quot;`t:&lt;时间&gt;`&quot;">​</a></h3><p><em>可指定周、日、时、分与秒作为范围。</em><br><em>时间单位可组合使用，也可指定小数单位的时间。</em></p><ul><li>示例：<code>t:2w,5d,7h,2m,10s</code></li><li>示例：<code>t:5d2h</code></li><li>示例：<code>t:1h-2h</code><em>（1-2 小时）</em></li><li>示例：<code>t:2.5h</code><em>（2.5 小时）</em></li></ul><h3 id="r-半径" tabindex="-1"><code>r:&lt;半径&gt;</code> <a class="header-anchor" href="#r-半径" aria-label="Permalink to &quot;`r:&lt;半径&gt;`&quot;">​</a></h3><p><em>以命令执行者当前位置为中心一定半径的范围。</em></p><ul><li>示例：<code>r:10</code><em>（中心内 10 格半径的方块）</em></li><li>示例：<code>r:#world_the_end</code><em>（指定世界）</em></li><li>示例：<code>e:#global</code><em>（全服）</em></li><li>示例：<code>r:#worldedit</code> 或 <code>r:#we</code><em>（指定 WE 选区）</em></li></ul><h3 id="a-操作" tabindex="-1"><code>a:&lt;操作&gt;</code> <a class="header-anchor" href="#a-操作" aria-label="Permalink to &quot;`a:&lt;操作&gt;`&quot;">​</a></h3><p><em>限制查询至指定操作。</em></p><ul><li>示例：<code>a:+block</code><em>（只包含放置方块操作）</em></li></ul><h4 id="操作列表" tabindex="-1">操作列表 <a class="header-anchor" href="#操作列表" aria-label="Permalink to &quot;操作列表&quot;">​</a></h4><table tabindex="0"><thead><tr><th>行为格式</th><th>描述</th></tr></thead><tbody><tr><td><code>a:block</code></td><td>方块放置/破坏</td></tr><tr><td><code>a:+block</code></td><td>方块放置</td></tr><tr><td><code>a:-block</code></td><td>方块破坏</td></tr><tr><td><code>a:chat</code></td><td>发送聊天消息</td></tr><tr><td><code>a:click</code></td><td>玩家点击交互</td></tr><tr><td><code>a:command</code></td><td>玩家输入命令</td></tr><tr><td><code>a:container</code></td><td>物品取出/放入箱子</td></tr><tr><td><code>a:+container</code></td><td>物品放入箱子</td></tr><tr><td><code>a:-container</code></td><td>物品取出箱子</td></tr><tr><td><code>a:inventory</code></td><td>物品取出/放入玩家背包</td></tr><tr><td><code>a:+inventory</code></td><td>物品放入玩家背包</td></tr><tr><td><code>a:-inventory</code></td><td>物品取出玩家背包</td></tr><tr><td><code>a:item</code></td><td>物品由玩家掉落、丢弃、拾起、放入或取出</td></tr><tr><td><code>a:+item</code></td><td>物品拾起或被玩家取出</td></tr><tr><td><code>a:-item</code></td><td>物品掉落、丢弃或被玩家放入</td></tr><tr><td><code>a:kill</code></td><td>击杀实体</td></tr><tr><td><code>a:session</code></td><td>玩家上线/下线</td></tr><tr><td><code>a:+session</code></td><td>玩家登录</td></tr><tr><td><code>a:-session</code></td><td>玩家登出</td></tr><tr><td><code>a:sign</code></td><td>在告示牌上写字</td></tr><tr><td><code>a:username</code></td><td>玩家名称改变（仅正版）</td></tr></tbody></table><h3 id="i-包含" tabindex="-1"><code>i:&lt;包含&gt;</code> <a class="header-anchor" href="#i-包含" aria-label="Permalink to &quot;`i:&lt;包含&gt;`&quot;">​</a></h3><p><em>可用于指定某些方块、物品、实体。</em></p><ul><li>示例：<code>i:stone</code><em>（仅包含石头）</em></li><li>示例：<code>o:stone,oak_wood,bedrock</code><em>（包含多个方块）</em></li></ul><blockquote><p>你可以在 <a href="https://coreprotect.net/wiki-blocks" target="_blank" rel="noreferrer">https://coreprotect.net/wiki-blocks</a> 找到方块名称列表。<br> 也可以在 <a href="https://coreprotect.net/wiki-entities" target="_blank" rel="noreferrer">https://coreprotect.net/wiki-entities</a> 找到实体名称列表。</p></blockquote><h3 id="e-排除" tabindex="-1"><code>e:&lt;排除&gt;</code> <a class="header-anchor" href="#e-排除" aria-label="Permalink to &quot;`e:&lt;排除&gt;`&quot;">​</a></h3><p><em>可用于排除某些方块、物品、玩家。</em></p><ul><li>示例：<code>e:tnt</code><em>（包括 TNT）</em></li></ul><h3 id="标签" tabindex="-1"><code>#&lt;标签&gt;</code> <a class="header-anchor" href="#标签" aria-label="Permalink to &quot;`#&lt;标签&gt;`&quot;">​</a></h3><p>在命令后添加井号标签来执行某些额外的操作。</p><ul><li>示例：<code>#preview</code><em>（执行回滚预览）</em></li></ul><h4 id="标签列表" tabindex="-1">标签列表 <a class="header-anchor" href="#标签列表" aria-label="Permalink to &quot;标签列表&quot;">​</a></h4><table tabindex="0"><thead><tr><th>标签</th><th>效果</th></tr></thead><tbody><tr><td><code>#preview</code></td><td>进行一次回滚/存储</td></tr><tr><td><code>#count</code></td><td>返回查找队列里找到的行数</td></tr><tr><td><code>#verbose</code></td><td>在回滚/存储过程中显示额外信息</td></tr><tr><td><code>#silent</code></td><td>在回滚/存储过程中显示尽可能少的信息</td></tr></tbody></table><h2 id="示例命令" tabindex="-1">示例命令 <a class="header-anchor" href="#示例命令" aria-label="Permalink to &quot;示例命令&quot;">​</a></h2><h3 id="示例回滚命令" tabindex="-1">示例回滚命令 <a class="header-anchor" href="#示例回滚命令" aria-label="Permalink to &quot;示例回滚命令&quot;">​</a></h3><p>默认情况下，若未指定半径，则为 10 格，即将操作限制在以你为中心的 10 格方块内。使用 <code>r:#global</code> 可进行全局回滚。</p><ul><li><code>/co rollback Notch t:1h</code><em>（将玩家 Notch 回滚一小时（默认半径 10））</em></li><li><code>/co rollback u:Notch,Intelli t:1h #preview</code><em>（预览回滚玩家 Notch 和 Intelli 一小时（默认半径 10））</em></li><li><code>/co rollback u:Notch t:23h17m</code><em>（将玩家 Notch 回滚 23 小时 17 分钟（默认半径 10））</em></li><li><code>/co rollback u:Notch t:1h i:stone</code><em>（回滚 Notch 在一小时前放置/破坏的所有石头方块（默认半径 10））</em></li><li><code>/co rollback u:Notch t:1h i:stone a:-block</code><em>（回滚 Notch 在一小时前破坏的所有石头方块（默认半径 10））</em></li><li><code>/co rollback u:Notch t:1h r:#global e:stone,dirt</code><em>（回滚 Notch 一小时前除放置/破坏石头与泥土方块的所有操作）</em></li><li><code>/co rollback u:Notch t:1h r:20</code><em>（回滚 20 格半径内 Notch 做出的所有破坏动作）</em></li><li><code>/co rollback u:Notch t:1h r:#nether</code><em>（回滚 Notch 一小时前在地狱中做出的所有破坏动作）</em></li><li><code>/co rollback u:Notch t:5m a:inventory</code><em>（回滚 Notch 五分钟前的所有物品栏交互）</em></li><li><code>/co rollback t:15m r:30</code><em>（回滚周围 30 格半径内 15 分钟前发生的所有事）</em></li><li><code>/co rollback t:15m r:#worldedit</code><em>（回滚 WorldEdit 选区内 15 分钟前发生的所有事）</em></li></ul><h3 id="示例查询命令" tabindex="-1">示例查询命令 <a class="header-anchor" href="#示例查询命令" aria-label="Permalink to &quot;示例查询命令&quot;">​</a></h3><p>查询命令与回滚命令大致相似。区别在于，查询命令没有默认半径，即每次搜索都是针对全局而言的。</p><ul><li><code>/co lookup i:diamond_ore t:1h a:-block</code><em>（查询过去一小时中被挖掘的所有钻石矿）</em></li><li><code>/co lookup u:Notch t:30m a:chat</code><em>（查询过去 30 分钟 Notch 发出的所有聊天消息）</em></li><li><code>/co lookup u:Notch t:3d a:inventory</code><em>（查询过去 3 天 Notch 所有的物品栏移动操作）</em></li><li><code>/co lookup u:Notch a:login</code><em>（查询 Notch 自进服以来的所有登录历史）</em></li><li><code>/co lookup u:Notch a:username</code><em>（查询 Notch 此前使用过的名称）</em></li></ul>',78)]))}const b=e(c,[["render",r]]);export{s as __pageData,b as default};
