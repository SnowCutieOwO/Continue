import{_ as a,c as e,o as i,b0 as n}from"./chunks/framework.w6NQj85O.js";const u=JSON.parse('{"title":"高级安装","description":"","frontmatter":{},"headers":[],"relativePath":"LuckPerms/reference.how-permission-calculation-works.md","filePath":"LuckPerms/reference.how-permission-calculation-works.md"}'),l={name:"LuckPerms/reference.how-permission-calculation-works.md"};function t(p,s,r,o,h,c){return i(),e("div",null,s[0]||(s[0]=[n(`<h1 id="高级安装" tabindex="-1">高级安装 <a class="header-anchor" href="#高级安装" aria-label="Permalink to &quot;高级安装&quot;">​</a></h1><h2 id="介绍" tabindex="-1">介绍 <a class="header-anchor" href="#介绍" aria-label="Permalink to &quot;介绍&quot;">​</a></h2><p>尽管 LuckPerms 的基础非常简单，但是你还是可以照着本章节的教程来使用更多的特性，搭建一个更强大的权限系统。</p><h2 id="指定世界或服务器生效的权限" tabindex="-1">指定世界或服务器生效的权限 <a class="header-anchor" href="#指定世界或服务器生效的权限" aria-label="Permalink to &quot;指定世界或服务器生效的权限&quot;">​</a></h2><p>LuckPerms 是为多子服的群组设计的。你可以设置只在某个服务器或世界中生效的权限。</p><h3 id="一些重要的配置选项" tabindex="-1">一些重要的配置选项： <a class="header-anchor" href="#一些重要的配置选项" aria-label="Permalink to &quot;一些重要的配置选项：&quot;">​</a></h3><div class="language-YAML vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">YAML</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># The name of the server, used for server specific permissions. Set to &#39;global&#39; to disable.</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">global</span></span></code></pre></div><p>这就是服务器的名称。若你想要设置只在某个服务器生效的权限，你需要通过修改这个选项为服务器命名。如果你想要的话，群组中的服务器也可以是同一个名字。</p><div class="language-YAML vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">YAML</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># If users on this server should have their global permissions/groups applied.</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">include-global</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><p>“包含全局”选项也非常重要。</p><p>LuckPerms 的权限可以分成仅在指定服务器生效（只在处于某个服务器中有效）与全局生效（所有服务器均会生效）两类。</p><p>将上述选项设置为 <strong>false</strong>，表示只有指定了生效服务器的权限才会被应用。全局（或未指定生效服务器的）权限将不会生效。</p><p>通过修改这两个选项，你可以设置更灵活、强大的服务器权限与权限组。</p><h3 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h3><h4 id="示例一" tabindex="-1">示例一 <a class="header-anchor" href="#示例一" aria-label="Permalink to &quot;示例一&quot;">​</a></h4><div class="language-YAML vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">YAML</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">global</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">include-global</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><ul><li>/luckperms user Luck set minecraft.command.gamemode true <strong>会生效</strong></li><li>/luckperms user Luck set minecraft.command.gamemode true factions 在不处于“factions”服务器时<strong>不会生效</strong></li></ul><h4 id="示例二" tabindex="-1">示例二 <a class="header-anchor" href="#示例二" aria-label="Permalink to &quot;示例二&quot;">​</a></h4><div class="language-YAML vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">YAML</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">lobby</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">include-global</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span></code></pre></div><ul><li>/luckperms user Luck set minecraft.command.gamemode true <strong>会生效</strong></li><li>/luckperms user Luck set minecraft.command.gamemode true lobby <strong>会生效</strong></li></ul><h4 id="示例三" tabindex="-1">示例三 <a class="header-anchor" href="#示例三" aria-label="Permalink to &quot;示例三&quot;">​</a></h4><div class="language-YAML vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">YAML</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">bungeecord</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">include-global</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span></code></pre></div><ul><li>/luckperms user Luck set minecraft.command.gamemode true <strong>不会生效</strong></li><li>/luckperms user Luck set bungeecord.command.alert true bungeecord <strong>会生效</strong></li></ul><h4 id="示例四" tabindex="-1">示例四 <a class="header-anchor" href="#示例四" aria-label="Permalink to &quot;示例四&quot;">​</a></h4><div class="language-YAML vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">YAML</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">global</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">include-global</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span></code></pre></div><p><strong>没有权限会生效</strong></p><p>若不指定服务器，且不包括全局权限，那么没有权限会生效。</p><h2 id="权限计算" tabindex="-1">权限计算 <a class="header-anchor" href="#权限计算" aria-label="Permalink to &quot;权限计算&quot;">​</a></h2><p>如下所示，权限是通过权重系统进行判定的。</p><ul><li><strong>限定服务器的权限会覆盖全局权限。</strong></li></ul><p>示例：若玩家拥有一个“fly.use”权限，之后又拥有一个在“factions”服务器上生效的“fly.use”负权限，那么指定了服务器的权限就会覆盖全局权限，且玩家会（在指定服务器中时）获得这个负权限</p><ul><li><strong>限定世界的权限会覆盖全局权限。</strong></li></ul><p>示例：若玩家拥有一个“fly.use”权限，之后又拥有一个在“world_nether”世界中生效的“fly.use”负权限，那么指定了世界的权限就会覆盖全局权限，且玩家会（在指定世界中时）获得这个负权限</p><ul><li><strong>临时权限会覆盖永久权限。</strong></li></ul><p>示例：若玩家拥有一个“test.node”的负权限，又设置了相同的临时权限，那么它就会覆盖永久权限，玩家也会在其生效期间内获得这个权限。</p><ul><li><strong>通配符/正则权限会被正常权限覆盖。</strong></li></ul><p>示例：若一个玩家有“luckperms.*”权限，和一个“luckperms.something”负权限，非通配符权限会覆盖通配符，也就是玩家的“luckperms.something”权限设置为负，无视通配符。</p><ul><li><strong>临时权限会覆盖其他持续时间更长的临时权限。</strong></li></ul><p>示例：若玩家拥有一个在 1 天内过期的“fly.use”临时权限，和一个在 1 小时内过期的“fly.use”负权限，那么持续时间更短的权限将会覆盖持续时间长的，负权限会在这 1 个小时内被优先计算。</p><ul><li><strong>更详细的通配符权限会覆盖更粗略的通配符权限。</strong></li></ul><p>示例：若一个玩家有“luckperms.*”权限，以及“luckperms.user.*”负权限，所有 user 相关的命令都会被禁止，除非再次给予比“luckperms.*”更详细的权限。</p><ul><li><strong>继承权限会被自拥有权限覆盖。</strong></li></ul><p>示例：一个玩家属于默认组，拥有权限“some.thing.perm”，但玩家自身拥有“some.thing.perm”负权限。继承权限会被玩家本身的权限覆盖，且玩家该权限的状态为负。</p><h2 id="临时权限" tabindex="-1">临时权限 <a class="header-anchor" href="#临时权限" aria-label="Permalink to &quot;临时权限&quot;">​</a></h2><p>临时权限每 3 秒会进行一次检查，确认其是否过期。检查无视同步间隔设置。这表示你可以安心地设置只持续几秒的权限，它们会被按时移除。</p><h2 id="缩写权限" tabindex="-1">缩写权限 <a class="header-anchor" href="#缩写权限" aria-label="Permalink to &quot;缩写权限&quot;">​</a></h2><p>LuckPerms 允许你通过它（尽管与 PermissionsEx 的有点像 😛）将权限缩写。</p><h3 id="示例-1" tabindex="-1">示例 <a class="header-anchor" href="#示例-1" aria-label="Permalink to &quot;示例&quot;">​</a></h3><h4 id="示例一-1" tabindex="-1">示例一 <a class="header-anchor" href="#示例一-1" aria-label="Permalink to &quot;示例一&quot;">​</a></h4><p>以 LuckPerms 权限节点为例，你想要玩家能够对其他玩家和权限组进行自由控制。</p><p>在没有缩写的情况下，你需要给予四个权限。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>luckperms.user.setpermission</span></span>
<span class="line"><span>luckperms.user.unsetpermission</span></span>
<span class="line"><span>luckperms.group.setpermission</span></span>
<span class="line"><span>luckperms.group.unsetpermission</span></span></code></pre></div><p>但是，在缩写启用的情况下，你只需添加这个权限：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>luckperms.{user,group}.{setpermission,unsetpermission}</span></span></code></pre></div><p>你可以使用花括号来将一部分节点当做缩写组，通过英文逗号 <code>,</code> 来分隔多条权限。</p><h4 id="示例二-1" tabindex="-1">示例二 <a class="header-anchor" href="#示例二-1" aria-label="Permalink to &quot;示例二&quot;">​</a></h4><p>你可以通过 <code>-</code> 符号使用字母范围。在没有缩写的情况下，你需要给予四个权限。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>coolkits.kit.a</span></span>
<span class="line"><span>coolkits.kit.b</span></span>
<span class="line"><span>coolkits.kit.c</span></span>
<span class="line"><span>coolkits.kit.d</span></span></code></pre></div><p>但在拥有缩写的情况下，你可以给予这个权限：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>coolkits.kit.{a-d}</span></span></code></pre></div><h4 id="示例三-1" tabindex="-1">示例三 <a class="header-anchor" href="#示例三-1" aria-label="Permalink to &quot;示例三&quot;">​</a></h4><p>你可以通过 <code>-</code> 符号使用数字范围。在没有缩写的情况下，你需要给予四个权限。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>prisonmines.teleport.1</span></span>
<span class="line"><span>prisonmines.teleport.2</span></span>
<span class="line"><span>prisonmines.teleport.3</span></span>
<span class="line"><span>prisonmines.teleport.4</span></span></code></pre></div><p>但在拥有缩写的情况下，你可以给予这个权限：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>prisonmines.teleport.{1-4}</span></span></code></pre></div><h2 id="正则" tabindex="-1">正则 <a class="header-anchor" href="#正则" aria-label="Permalink to &quot;正则&quot;">​</a></h2><p>LuckPerms 支持正则权限。</p><p>在使用正则权限时，它必须以“R=”开头，这样 LuckPerms 才能知道它是正则，而不是一般的字符串。</p><p>例如，如果你想要玩家能创建组与路线，一般情况下你要给予两个权限节点。但是在使用正则的情况下，你只需要给予 <code>luckperms\\.create.*</code> 权限。但是记住，你需要转义其中出现的标点（包括 <code>.</code> 符号），因为一整个节点都是正则的识别范围。</p>`,69)]))}const k=a(l,[["render",t]]);export{u as __pageData,k as default};
